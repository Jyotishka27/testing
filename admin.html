<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin Login - We Are Eleven</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background: white;
      color: #1e293b;
    }
    .nav-link { color: #4b5563; font-weight: 500; text-decoration: none; transition: color 0.2s ease; }
    .nav-link:hover { color: #374151; }
    .nav-link.active { color: #dc2626; }

    .login-card {
      background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
      border: 1px solid #e2e8f0;
      box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
      transition: all 0.3s ease;
      animation: float 6s ease-in-out infinite;
    }
    .login-card:hover { box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25); transform: translateY(-2px); }

    .form-input { background: #ffffff; border: 2px solid #e2e8f0; transition: all 0.2s ease; position: relative; }
    .form-input:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59,130,246,.1); background: #fefefe; }
    .form-input:hover { border-color: #cbd5e1; }

    .admin-btn { background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); transition: all 0.3s ease; position: relative; overflow: hidden; }
    .admin-btn:hover { background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%); transform: translateY(-1px); box-shadow: 0 10px 20px -5px rgba(59,130,246,.4); }
    .admin-btn:active { transform: translateY(0); }
    .admin-btn::before {
      content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.2), transparent);
      transition: left .5s ease;
    }
    .admin-btn:hover::before { left: 100%; }

    .error-message {
      color: #dc2626; background: #fef2f2; border: 1px solid #fecaca;
      border-radius: .5rem; padding: .75rem; margin-bottom: 1rem; font-size: .875rem;
      text-align: center; opacity: 0; transform: translateY(-10px); transition: all .3s ease;
    }
    .error-message.show { opacity: 1; transform: translateY(0); }

    .loading { position: relative; pointer-events: none; }
    .loading::after {
      content: ''; position: absolute; width: 20px; height: 20px; margin: auto;
      border: 2px solid transparent; border-top-color: #ffffff; border-radius: 50%;
      animation: spin 1s linear infinite; top: 50%; left: 50%; transform: translate(-50%,-50%);
    }
    @keyframes spin { from { transform: translate(-50%,-50%) rotate(0) } to { transform: translate(-50%,-50%) rotate(360deg) } }

    .admin-icon { font-size: 3rem; margin-bottom: 1rem; opacity: .8; }
    @keyframes float { 0%,100% { transform: translateY(0) } 50% { transform: translateY(-5px) } }

    .input-group { position: relative; margin-bottom: 1.5rem; }
    .input-label {
      position: absolute; left: 1rem; top: 50%; transform: translateY(-50%);
      background: white; padding: 0 .5rem; color: #6b7280; font-size: .875rem;
      transition: all .2s ease; pointer-events: none;
    }
    .form-input:focus + .input-label,
    .form-input:not(:placeholder-shown) + .input-label { top: 0; font-size: .75rem; color: #3b82f6; }
  </style>
</head>

<body class="text-black flex flex-col min-h-screen">
  <div id="site-header"></div>

  <main class="flex-grow max-w-6xl mx-auto p-4">
    <div class="login-card rounded-3xl p-8 max-w-md w-full mx-auto">
      <div class="text-center mb-8">
        <div class="admin-icon">üîê</div>
        <h1 class="text-3xl font-bold text-gray-900 mb-2">Admin Access</h1>
        <p class="text-gray-600 mb-4">Secure administrator login portal</p>
        <div class="security-badge inline-flex items-center gap-1">
          <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
          Secured Login
        </div>
      </div>

      <!-- Note: onsubmit guard prevents navigation even if JS fails -->
      <form id="loginForm" novalidate autocomplete="off" class="space-y-6" onsubmit="return false;">
        <div id="errorMsg" class="error-message" role="alert" aria-live="assertive"></div>

        <div class="input-group">
          <input type="email" id="email" name="email" placeholder=" " class="form-input w-full px-4 py-3 rounded-xl text-gray-900" required />
          <label for="email" class="input-label">Admin Email</label>
        </div>

        <div class="input-group">
          <input type="password" id="password" name="password" placeholder=" " class="form-input w-full px-4 py-3 rounded-xl text-gray-900" required />
          <label for="password" class="input-label">Password</label>
        </div>

        <button type="submit" id="loginBtn" class="admin-btn w-full py-3 px-6 rounded-xl font-semibold text-white text-lg">
          <span id="btnText">Access Admin Panel</span>
        </button>
      </form>
    </div>
  </main>

  <footer class="bg-gray-950 py-8 text-center text-gray-400">
    <div class="max-w-4xl mx-auto px-4">
      <p class="text-lg">¬© 2025 Football Community. All Rights Reserved.</p>
      <p class="text-sm mt-2 opacity-75">Bringing together the best in football competition</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    // Mobile menu toggle (guard elements so code doesn't throw)
    const mobileMenuBtn = document.getElementById("mobile-menu-button");
    const mobileMenu = document.getElementById("mobile-menu");
    if (mobileMenuBtn && mobileMenu) {
      mobileMenuBtn.addEventListener("click", () => {
        const expanded = mobileMenuBtn.getAttribute("aria-expanded") === "true";
        mobileMenuBtn.setAttribute("aria-expanded", !expanded);
        mobileMenu.classList.toggle("hidden");
      });
      document.addEventListener("click", (e) => {
        if (!mobileMenuBtn.contains(e.target) && !mobileMenu.contains(e.target)) {
          mobileMenu.classList.add("hidden");
          mobileMenuBtn.setAttribute("aria-expanded", "false");
        }
      });
    }

    // Admin login logic (no syntax pitfalls)
    (function () {
      const form = document.getElementById("loginForm");
      const errorMsg = document.getElementById("errorMsg");
      const loginBtn = document.getElementById("loginBtn");
      const btnText = document.getElementById("btnText");

      // Prevent navigation even if handler fails elsewhere
      if (form) form.setAttribute("onsubmit", "return false;");

      const ADMIN_EMAIL = "jyotishka27@org.com";
      const ADMIN_PASSWORD = "Leavemealoner8@";

      function showError(message) {
        errorMsg.textContent = message;
        errorMsg.classList.add("show");
        setTimeout(() => errorMsg.classList.remove("show"), 5000);
      }
      function clearError() { errorMsg.classList.remove("show"); }
      function setLoading(v) {
        if (v) { loginBtn.classList.add("loading"); btnText.style.opacity = "0"; loginBtn.disabled = true; }
        else   { loginBtn.classList.remove("loading"); btnText.style.opacity = "1"; loginBtn.disabled = false; }
      }

      if (form) {
        form.addEventListener("submit", function (e) {
          e.preventDefault();
          clearError();

          const email = (form.email.value || "").trim();
          const password = form.password.value || "";

          if (!email || !password) return showError("Please enter both email and password.");
          if (!email.includes("@")) return showError("Please enter a valid email address.");

          setLoading(true);
          setTimeout(function () {
            const ok = (email.toLowerCase() === ADMIN_EMAIL.toLowerCase()) && (password === ADMIN_PASSWORD);
            if (ok) {
              btnText.textContent = "Access Granted!";
              setTimeout(function () {
                window.location.href = "admin_profile.html"; // redirect target
              }, 800);
            } else {
              setLoading(false);
              btnText.textContent = "Access Admin Panel";
              showError("Invalid credentials. Access denied.");
              form.style.animation = "shake 0.5s ease-in-out";
              setTimeout(function () { form.style.animation = ""; }, 500);
            }
          }, 500);
        });

        // Dismiss error on focus
        document.querySelectorAll(".form-input").forEach(function (i) {
          i.addEventListener("focus", clearError);
        });
      }

      // Inject shake keyframes once
      var style = document.createElement("style");
      style.textContent = "@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}";
      document.head.appendChild(style);

      // Entry animation
      window.addEventListener("DOMContentLoaded", function () {
        var card = document.querySelector(".login-card");
        if (!card) return;
        card.style.opacity = "0";
        card.style.transform = "translateY(20px) scale(0.95)";
        setTimeout(function () {
          card.style.transition = "all 0.6s ease";
          card.style.opacity = "1";
          card.style.transform = "translateY(0) scale(1)";
        }, 100);
      });
    })();
  </script>

  <!-- Header injection (teams load disabled to avoid 404 noise) -->
  <script type="module">
    import { injectHeader } from "./header.js";
    // import { loadTeams, hydrateTeamLogos } from "./teams-util.js"; // re-enable when data/teams.json exists

    (async () => {
      injectHeader("#site-header", { active: "admin" });
      // try {
      //   const maps = await loadTeams();
      //   hydrateTeamLogos(document, maps);
      // } catch (e) {
      //   console.warn("Teams JSON load failed:", e);
      // }
    })();
  </script>

</body>
</html>
